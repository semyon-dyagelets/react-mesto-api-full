{"ast":null,"code":"class API {\n  constructor({\n    baseURL\n  }) {\n    this._baseURL = baseURL;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseURL}/users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseURL}/cards`, {\n      method: 'GET',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  }\n\n  editProfile(data) {\n    return fetch(`${this._baseURL}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then(this._checkResponse);\n  }\n\n  editAvatar(data) {\n    return fetch(`${this._baseURL}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseURL}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(_id) {\n    return fetch(`${this._baseURL}/cards/${_id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  putLike(_id) {\n    return fetch(`${this._baseURL}/:cardId/likes/${_id}`, {\n      method: 'PUT',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this._baseURL}/:cardId/likes${_id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst api = new API({\n  baseURL: 'http://localhost:3000'\n});\nexport default api;","map":{"version":3,"sources":["/Users/SD/Desktop/dev/react-mesto-auth/src/utils/api.js"],"names":["API","constructor","baseURL","_baseURL","_checkResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","method","headers","authorization","localStorage","getItem","then","getInitialCards","editProfile","data","body","JSON","stringify","name","about","editAvatar","avatar","addCard","link","deleteCard","_id","putLike","deleteLike","api"],"mappings":"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","sourcesContent":["class API {\n    constructor({ baseURL }) {\n        this._baseURL = baseURL;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseURL}/users/me`, {\n            method: 'GET',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseURL}/cards`, {\n            method: 'GET',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    editProfile(data) {\n        return fetch(`${this._baseURL}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    editAvatar(data) {\n        return fetch(`${this._baseURL}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data.avatar,\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    addCard(data) {\n        return fetch(`${this._baseURL}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteCard(_id) {\n        return fetch(`${this._baseURL}/cards/${_id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    putLike(_id) {\n        return fetch(`${this._baseURL}/:cardId/likes/${_id}`, {\n            method: 'PUT',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(_id) {\n        return fetch(`${this._baseURL}/:cardId/likes${_id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: `Bearer ${localStorage.getItem('token')}`,\n            }\n        })\n            .then(this._checkResponse)\n    }\n}\n\nconst api = new API({\n    baseURL: 'http://localhost:3000',\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}