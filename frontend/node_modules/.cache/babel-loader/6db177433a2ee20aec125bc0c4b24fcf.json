{"ast":null,"code":"import _classCallCheck from\"/Users/SD/Desktop/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/SD/Desktop/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var API=/*#__PURE__*/function(){function API(_ref){var baseURL=_ref.baseURL,token=_ref.token;_classCallCheck(this,API);this._baseURL=baseURL;this._token=token;}_createClass(API,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseURL,\"/users/me\"),{method:'GET',headers:{authorization:this._token}}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseURL,\"/cards\"),{method:'GET',headers:{authorization:this._token}}).then(this._checkResponse);}},{key:\"editProfile\",value:function editProfile(data){console.log(data);return fetch(\"\".concat(this._baseURL,\"/users/me\"),{method:'PATCH',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({name:data.name,about:data.about})}).then(this._checkResponse);}},{key:\"editAvatar\",value:function editAvatar(data){return fetch(\"\".concat(this._baseURL,\"/users/me/avatar\"),{method:'PATCH',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({avatar:data.avatar})}).then(this._checkResponse);}},{key:\"addCard\",value:function addCard(data){return fetch(\"\".concat(this._baseURL,\"/cards\"),{method:'POST',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({name:data.name,link:data.link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseURL,\"/cards/\").concat(id),{method:'DELETE',headers:{authorization:this._token}}).then(this._checkResponse);}},{key:\"putLike\",value:function putLike(id){return fetch(\"\".concat(this._baseURL,\"/cards/likes/\").concat(id),{method:'PUT',headers:{authorization:this._token}}).then(this._checkResponse);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._baseURL,\"/cards/likes/\").concat(id),{method:'DELETE',headers:{authorization:this._token}}).then(this._checkResponse);}}]);return API;}();var api=new API({baseURL:'https://mesto.nomoreparties.co/v1/cohort-19',token:'368fbfa6-0e9c-41c7-bd15-303b5b8d6ef8'});export default api;","map":{"version":3,"sources":["/Users/SD/Desktop/dev/mesto-react/src/utils/api.js"],"names":["API","baseURL","token","_baseURL","_token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_checkResponse","data","console","log","body","JSON","stringify","name","about","avatar","link","id","api"],"mappings":"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","sourcesContent":["class API {\n    constructor({ baseURL, token }) {\n        this._baseURL = baseURL;\n        this._token = token;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseURL}/users/me`, {\n            method: 'GET',\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseURL}/cards`, {\n            method: 'GET',\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    editProfile(data) {\n        console.log(data);\n        return fetch(`${this._baseURL}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    editAvatar(data) {\n        return fetch(`${this._baseURL}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data.avatar,\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    addCard(data) {\n        return fetch(`${this._baseURL}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteCard(id) {\n        return fetch(`${this._baseURL}/cards/${id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    putLike(id) {\n        return fetch(`${this._baseURL}/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._checkResponse)\n    }\n\n    deleteLike(id) {\n        return fetch(`${this._baseURL}/cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._checkResponse)\n    }\n}\n\nconst api = new API({\n    baseURL: 'https://mesto.nomoreparties.co/v1/cohort-19',\n    token: '368fbfa6-0e9c-41c7-bd15-303b5b8d6ef8',\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}